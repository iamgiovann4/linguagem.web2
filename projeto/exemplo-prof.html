<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        var doacoes = new Array();
 
        function cadastrarDoacao() {
            var doacao = new Array();
            var iNome = document.getElementById('nome')
            var iValor = document.getElementById('valor')
            doacao.nome = iNome.value;
            doacao.valor = iValor.value;
            doacoes.push(doacao);
            console.log(doacoes);
            atualizarTabela();
            iValor.value="";
            iNome.value="";
        }
 
        function excluirDoacao(e) {
            console.log("Excluindo"+e.value);
            doacoes.splice(e.value,1);
            atualizarTabela();
 
        }

        function atualizarTabela() {
            // doacoes = {
            //     0:  [nome: 'a', valor: '1']
            //     1: [nome: 'b', valor: '2']
            //     2: [nome: 'c', valor: '42']
            // }
 
            // doacoes.forEach(function(item,indice,array){
            //      console.log(item.nome+"jjjjj"+indice)
            // });
            var corpoTabela = document.getElementById("corpoTabela");
            corpoTabela.innerHTML="";
            var tdoacoes=0;
            var tdoadores=0;
 
            for (var index = 0; index < doacoes.length; index++) { 
                var tr = document.createElement("tr");
                var td1 = document.createElement("td");
                var td2 = document.createElement("td");
                var td3 = document.createElement("td");
                var doacao = doacoes[index];
 
                td1.innerText=doacao.nome;
                tr.appendChild(td1);
 
                td2.innerText=doacao.valor;
                tr.appendChild(td2);
 
                var btn = document.createElement('button');
                btn.innerText="X";
                btn.value=index;
                btn.setAttribute("onclick","excluirDoacao(this)")
                td3.appendChild(btn);
                tr.appendChild(td3);
 
                corpoTabela.appendChild(tr);
                tdoadores++;
                tdoacoes += parseFloat(doacao.valor)
            }

            document.getElementById("sdoadores").innerText=tdoadores;
            document.getElementById("sdoacoes").innerText=tdoacoes;
        }
    </script>
</head>
<body>
    <div>
        <form>
            <input type="text" name="" id="nome" placeholder="Nome"><br>
            <input type="text" name="" id="valor" placeholder="Valor"><br>
            <input type="button" onclick="cadastrarDoacao()" value="Cadastrar">
        </form>
    </div>
 
    <div>
        <table border="solid">
            <thead>
                <tr>
                    <td>Nome</td>
                    <td>Doação</td>
                    <td>Excluir</td>
                </tr>
            </thead>
            <tbody id="corpoTabela"></tbody>
        </table>
 
        <br>
        <br>

        Total de Doadores: <span id="sdoadores">0</span>
        <br>
        Total de Doações: <span id="sdoacoes">0,00</span>
    </div>
</body>
</html>